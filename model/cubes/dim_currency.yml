cubes:
  - name: dim_currency
    sql: SELECT * FROM gpc_data_2026_01_26.dim_currency
    title: Currency
    description: >
      Currency reference dimension for multi-currency transactions.
      Grain: one row per currency.

    measures:
      - name: currency_count
        type: count
        description: Total number of currencies

    dimensions:
      - name: currency_id
        sql: "{CUBE}.currency_id"
        type: number
        primary_key: true
        description: Unique identifier for the currency

      - name: currency_name
        sql: "{CUBE}.currency_name"
        type: string
        description: Full name of the currency (e.g., 'Euro', 'US Dollar', 'British Pound')

      - name: currency_symbol
        sql: "{CUBE}.currency_symbol"
        type: string
        description: Currency symbol (e.g., '€', '$', '£')

      - name: is_base_currency
        sql: "{CUBE}.is_base_currency"
        type: boolean
        description: True if this is the base/home currency for the organization

      - name: is_inactive
        sql: "{CUBE}.is_inactive"
        type: boolean
        description: True if the currency is no longer in use

    segments:
      - name: active_currencies
        sql: "{CUBE}.is_inactive = false"
        description: "Excludes inactive currencies"

      - name: base_currency
        sql: "{CUBE}.is_base_currency = true"
        description: "The organization's base/home currency"

      - name: foreign_currencies
        sql: "{CUBE}.is_base_currency = false AND {CUBE}.is_inactive = false"
        description: "Active foreign (non-base) currencies only"
